# 디자인 패턴

## 개요

### 식당에서 오고 간 이야기

> **🗣 종민 :** 흰 빵에 젤리가 들어있는 크림 치즈 발라주시고요, 바닐라 아이스크림이 들어있는 초코 소다하고, 베이컨이 들어있는 구운 치즈 샌드위치하고, 토스트 위에 참치 샐러드 얹은 것하고, 아이스크림하고 길게 자른 바나나로 만든 바나나 스플릿하고, 커피도 한 잔 주세요. 커피에는 크림 한 스푼, 설탕 두 스푼 넣어 주시고요. 아, 그리고 햄버거는 꼭 그릴 위에 올려주세요.

> **🗣 지현 :** C. J. 화이트하고, 블랙 앤 화이트하고, 잭 베니하고, 라디오하고, 하우스 보트, 레귤러 커피 하나 주세요. 그리고 그릴로 부탁합니다.

위 두 주문은 전혀 다르지 않습니다. 두 사람이 주문한 내용은 같거든요. 그럼 `지현씨`는 어떻게 간단하게 주문할 수 있었을까요? 주방장과 공통으로 아는 용어를 썼기 때문입니다. 이와 마찬가지로 디자인 패턴은 개발자 사이에서 서로 모두 이해할 수 있는 용어를 제공합니다. 

다른 개발자와 더 쉽게 대화할 수 있고, 객체 수준이 아닌 패턴 수준에서 생각할 수 있기에 아키텍처를 생각하는 수준도 끌어올려줍니다.



## 의사소통에서의 장점

1. **서로 알고 있는 패턴은 막강하다.**
   - 다른 개발자나 같은 팀에 있는 사람과 패턴으로 소통하면 패턴 이름과 패턴에 담겨 있는 내용, 특성, 제약조건 등을 함께 이야기할 수 있습니다.

2. **간단한 단어로 많은 얘기를 할 수 있다.**
3. **디자인에 더 오랫동안 집중할 수 있다.**
   - 객체와 클래스 구현과 관련된 자질구레한 내용에 시간을 버릴 필요가 없어서 디자인에 초점을 맞출 수 있습니다.
4. **신입 개발자에게 훌륭한 자극제가 된다.**



## 객체지향과 패턴

패턴의 밑바탕에는 객체지향 패턴이 있습니다. 관리가 용이한 객체지향 시스템을 만드는 비결 가운데 하나는 `나중에 어떻게 바뀔 것인지` 를 생각해보는 것입니다. 

#### **객체지향 기초**

1. 추상화
2. 캡슐화
3. 다형성
4. 상속

#### **객체 지향 원칙**

1. 바뀌는 부분은 캡슐화한다.
2. 상속보다는 구성을 활용한다.
3. 구현보다는 인터페이스에 맞춰서 프로그래밍한다.
4. 상호작용하는 객체 사이에서는 가능하면 느슨한 결합을 사용해야한다.
5. 클래스는 확장에는 열려 있어야 하지만 변경에는 닫혀 있어야한다.(OCP)


## 패턴

### 전략 패턴

전략 패턴은 알고리즘군을 정의하고 캡슐화해서 각각의 알고리즘군을 수정해서 쓸 수 있게 해 줍니다. 전략 패턴을 사용하면 클라이언트로부터 알고리즘을 분리해서 독립적으로 변경할 수 있습니다.



### 옵저버 패턴
한 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체에게 연락이가고 자동으로 내용이 갱신되는 방식으로 일대다(one-to-many) 의존성을 정의합니다.


### 데코레이터 패턴

객체에 추가 요소를 동적으로 더할 수 있습니다. 데코레이터를 사용하면 서브클래스를 만들 때보다 훨씬 유연하게 기능을 확장할 수 있습니다.



## 참고
- 헤드퍼스트 디자인 패턴(2022)
- [리팩토링 구루](https://refactoring.guru/design-patterns/strategy)
